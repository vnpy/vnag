# 高级用法

本章节介绍 VNAG 的高级功能和扩展方法。

## 本章内容

```{toctree}
:maxdepth: 2

custom_gateway
custom_tool
custom_segmenter
thinking
```

## 概述

VNAG 的模块化设计使其易于扩展。您可以：

- **自定义网关**：支持新的大模型 API
- **自定义工具**：添加新的本地工具或 Agent 工具
- **自定义分段器**：支持新的文档格式
- **思维链集成**：利用模型的思考过程

## 扩展点

| 扩展点 | 基类 | 说明 |
|--------|------|------|
| 网关 | `BaseGateway` | 对接新的大模型 API |
| 本地工具 | `LocalTool` | 封装 Python 函数为工具 |
| Agent 工具 | `AgentTool` | 将 Agent 封装为工具 |
| 分段器 | - | 自定义文档切分逻辑 |
| 嵌入器 | - | 自定义文本嵌入方法 |
| 向量库 | - | 对接新的向量数据库 |

## 设计原则

在扩展 VNAG 时，建议遵循以下原则：

1. **接口一致**：遵循已有的接口规范
2. **错误处理**：妥善处理异常情况
3. **文档完善**：提供清晰的文档和示例
4. **测试覆盖**：编写测试验证功能

## 下一步

选择您需要的扩展方向：

- [自定义网关](custom_gateway.md) - 支持新的大模型 API
- [自定义工具](custom_tool.md) - 添加自定义工具
- [自定义分段器](custom_segmenter.md) - 支持新的文档格式
- [思维链集成](thinking.md) - 利用模型的思考过程

